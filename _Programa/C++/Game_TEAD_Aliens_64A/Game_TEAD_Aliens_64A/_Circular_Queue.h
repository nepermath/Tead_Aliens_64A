/*
  ////////////////////////////////////////////////////////////////////////////////////////
  //       _____ _                _              _____                       		    //
  //      /  __ (_)              | |            |  _  |                      		    //
  //      | /  \/_ _ __ ___ _   _| | __ _ _ __  | | | |_   _  ___ _   _  ___ 		    //
  //      | |   | | '__/ __| | | | |/ _` | '__| | | | | | | |/ _ \ | | |/ _ \		    //
  //      | \__/\ | | | (__| |_| | | (_| | |    \ \/' / |_| |  __/ |_| |  __/		    //
  //       \____/_|_|  \___|\__,_|_|\__,_|_|     \_/\_\\__,_|\___|\__,_|\___|		    //
  //											                                        //
  ////////////////////////////////////////////////////////////////////////////////////////
  -------------------- Circular Queue Functions Header File (tab 4) ----------------------
*/


#ifndef _CIRCULAR_QUEUE_H_
#define _CIRCULAR_QUEUE_H_
/*
	+--------------------------------------+
	|       CONSTANTS DEFINITIONS          |
	+--------------------------------------+
*/


/*
	+--------------------------------------+
	|       DECLARATIONS                   |
	+--------------------------------------+
*/
  
//queue size must be 2^N size
#define USART_QUEUE_SIZE    64
#define USART_QUEUE_MASK    (USART_QUEUE_SIZE-1)

/*
  ---------------------------------------
  GENERAL QUEUE VARIABLES
  ---------------------------------------
*/

/*
  ---------------------------------------
  GENERAL QUEUE STRUCTS
  ---------------------------------------
*/
/*
  ---------------------------------------
  Queue struct type
  ---------------------------------------
*/

typedef struct
{
    unsigned char g;				//get pointer
    unsigned char p;				//put pointer
    unsigned char c;				//data counter
    unsigned char data[USART_QUEUE_SIZE];
} usartQueue;


/*
	+--------------------------------------+
	|       DECLARATIONS                   |
	+--------------------------------------+
*/

/*
    +--------------------------------------+
    |        	FORWARDS		           |
    +--------------------------------------+
*/
/************************************************************************/
/* Initialize Queue                                                     */
/************************************************************************/
void    cqInit(usartQueue *queue);
/************************************************************************/
/* Put Character into queue                                             */
/************************************************************************/
bool 	cqPut(usartQueue *queue,unsigned char usartQueueData);
/************************************************************************/
/* Get Charactter from queue                                            */
/************************************************************************/
bool	cqGet(usartQueue *queue,unsigned char *usartQueueData);
/************************************************************************/
/* Check if queue is empty                                              */
/************************************************************************/
bool 	cqEmpty(usartQueue *queue);
/************************************************************************/
/* Check if queue is Full                                               */
/************************************************************************/
bool 	cqFull(usartQueue *queue);
/************************************************************************/
/* get                                                                      */
/************************************************************************/
uint8_t	cqLen(usartQueue *queue);

#endif //