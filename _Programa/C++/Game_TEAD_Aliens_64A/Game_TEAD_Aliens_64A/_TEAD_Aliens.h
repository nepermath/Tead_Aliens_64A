/*
	///////////////////////////////////////////////////////////////////////////////////////////////////////
				 _____ _____  ___ ______    ___   _     _____ _____ _   _  _____
				|_   _|  ___|/ _ \|  _  \  / _ \ | |   |_   _|  ___| \ | |/  ___|
				  | | | |__ / /_\ \ | | | / /_\ \| |     | | | |__ |  \| |\ `--.
				  | | |  __||  _  | | | | |  _  || |     | | |  __|| . ` | `--. \
				  | | | |___| | | | |/ /  | | | || |_____| |_| |___| |\  |/\__/ /
				  \_/ \____/\_| |_/___/   \_| |_/\_____/\___/\____/\_| \_/\____/

								 _____   ___  ___  ___ _____
								|  __ \ / _ \ |  \/  ||  ___|
								| |  \// /_\ \| .  . || |__
								| | __ |  _  || |\/| ||  __|
								| |_\ \| | | || |  | || |___
								 \____/\_| |_/\_|  |_/\____/
								 
    ///////////////////////////////////////////////////////////////////////////////////////////////////////
    ---------------------------------- HEADER FILE (tab 4)-------------------------------------------------
*/

#ifndef _TEAD_ALIENS_H_
#define _TEAD_ALIENS_H_

/*
 +--------------------------------------+
 |        HARDWARE DEPENDENT INCLUDES	|
 +--------------------------------------+
*/

#include <avr/io.h>
#include <avr/interrupt.h>
#include <util/delay.h>

/*
 +--------------------------------------+
 |        C LIBRARY INCLUDES		    |
 +--------------------------------------+
*/
#include <stdlib.h>
#include <string.h>
#include <stdio.h>
/*
 +--------------------------------------+
 |        LOCAL LIBRARY INCLUDES	    |
 +--------------------------------------+
*/
#include "_Port.h"
#include "_Timer.h"
#include "_LED_Driver.h"
#include "_Wave_Driver.h"
#include "_ADC_Driver.h"
#include "_USART_Driver.h"
#include "_Kbd_Driver.h"
#include "_RTC.h"
#include "_I2C_Driver.h"
#include "_MathI.h"

/*
 +--------------------------------------+
 |        DEFINITIONS				    |
 +--------------------------------------+
*/

/*
 +--------------------------------------+
 |        TYPEDEFS					    |
 +--------------------------------------+
*/

/*
 +--------------------------------------+
 |        FUNCTIONS PROTOTYPERS		    |
 +--------------------------------------+
*/


/************************************************************************/
/* Get Scores from EEPROM                                               */
/************************************************************************/
void	SCORES_getFromEEPROM(void);
/************************************************************************/
/* Save Scores into EEPROM                                              */
/************************************************************************/
void	SCORES_saveIntoEEPROM(void);


/************************************************************************/
/* Initialize TEAD Aliens Game                                          */
/* Input: Initial Score													*/
/*	      Initial level													*/
/*		  Initial Score													*/	
/************************************************************************/
void	TEAD_initializeGame(bool initScore,bool initLevel,bool initLives);
/************************************************************************/
/* Delay Key                                                            */
/************************************************************************/
bool	TEAD_delayKey(uint16_t delayMilliseconds);
/************************************************************************/
/* Initialize Barriers to default position                              */
/************************************************************************/
void	TEAD_initBarriers(void);
/************************************************************************/
/* Initialize Space Ships to default position                           */
/************************************************************************/
void	TEAD_initSpaceShips(void);
/************************************************************************/
/* Update Screen with all TEAD Aliens elements                          */
/************************************************************************/
void	TEAD_updateScreen(void);
/************************************************************************/
/* Process Show Explosion of ships at position x,y                      */
/* input :	x,y				coordinates									*/			
/*		    size			of explosion								*/
/*			refreshScreen	if true										*/
/*			times			how many times explosion is make			*/
/************************************************************************/
void	TEAD_showExplosion(int8_t x,int8_t y,int8_t size,bool refreshScreen,int8_t times);
/************************************************************************/
/* Show Message Game Over And Messages                                  */
/************************************************************************/
void	TEAD_showGameOverAndMessages(bool gameStart);
/************************************************************************/
/* Show Actual Scores Animation                                         */
/************************************************************************/
void	TEAD_showScoresAnimation(void);
/************************************************************************/
/* Show curtain for next level or new score                             */
/************************************************************************/
void	TEAD_showCurtain(void);
/************************************************************************/
/* Show Cannon Explosion and decrement lives                            */
/************************************************************************/
void	TEAD_showCannonExplosion(void);
/************************************************************************/
/* Return Number of Ships Still Alive                                   */
/************************************************************************/
int8_t	TEAD_getShipsAlives(void);
/************************************************************************/
/* Get Max Coordinate Y of array of Ships Alive                         */
/************************************************************************/
int8_t  TEAD_getShipsMaxY(void);
/************************************************************************/
/* Get Min Coordinate Y of array of Ships Alive                         */
/************************************************************************/
int8_t  TEAD_getShipsMinY(void);
/************************************************************************/
/* Get Max Coordinate X of array of Ships Alive                         */
/************************************************************************/
int8_t  TEAD_getShipsMaxX(void);
/************************************************************************/
/* Get Min Coordinate X of Array of Ships Alive                         */
/************************************************************************/
int8_t  TEAD_getShipsMinX(void);
/************************************************************************/
/* Draw Scores on Screen at coordinates x,y                             */
/************************************************************************/
void	TEAD_drawScores(int x,int y);
/************************************************************************/
/* Draw Mother Ship on Screen                                           */
/************************************************************************/
void	TEAD_drawMotherShip(void);
/************************************************************************/
/* Draw Matrix of Ships on Screen                                       */
/************************************************************************/
void	TEAD_drawSpaceShips(bool shipOnStyle);
/************************************************************************/
/* Draw barriers on Screen                                               */
/************************************************************************/
void	TEAD_drawBarriers(void);
/************************************************************************/
/* Draw Cannon on Screen                                                */
/************************************************************************/
void	TEAD_drawCannon(Color color=Color::RED);
/************************************************************************/
/* Draw Lives                                                           */
/************************************************************************/
void	TEAD_drawLives(void);
/************************************************************************/
/* Insert New Score                                                     */
/************************************************************************/
void	TEAD_insertNewScore(uint16_t scoreValue);
/************************************************************************/
/* Process Cannon Movement according Joystick position                  */
/************************************************************************/
void	TEAD_processCannonMove(void);
/************************************************************************/
/* Process Matrix of Ships Movement                                     */
/************************************************************************/
bool	TEAD_processShipsMove(void);
/************************************************************************/
/* Process Cannon Fire when Enter Key pressed                           */
/************************************************************************/
void	TEAD_processFireFromCannon(void);
/************************************************************************/
/* Process A Fire Executed by a Ships that stay on from a column ships	*/
/************************************************************************/
void	TEAD_processFireFromShips(void);
/************************************************************************/
/* Process When a Ships Hit a Barriers                                 */
/************************************************************************/
void	TEAD_processShipsHitBarriers(void);
/************************************************************************/
/* Process if Ships Hit Cannon                                          */
/************************************************************************/
void	TEAD_processShipsHitCannon(void);
/************************************************************************/
/* Process When a Mother Ships Appear And Start to Move                 */
/************************************************************************/
void	TEAD_processMotherShipAppearAndMove(void);
/************************************************************************/
/* TEAD Aliens Main Entry Point                                         */
/* demo must be false to call main program or inside a tead must be true*/
/************************************************************************/
void	TEAD_MainGame(bool demo);
/************************************************************************/
/* Cobra Game Plot a new Dot                                            */
/************************************************************************/
void COBRA_plotNewDot(int8_t &x,int8_t &y);
/************************************************************************/
/* COBRA Game  Main Entry Point                                         */
/************************************************************************/
void	COBRA_MainGame();

#endif /* _TEAD ALIENS_H_ */

